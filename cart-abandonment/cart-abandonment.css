/* ---------- Tokens ---------- */
:root{
  /* Purple theme */
  --violet-50:#faf8ff;
  --violet-100:#f1eaff;
  --violet-200:#e4d6ff;
  --violet-400:#b79aff;
  --violet-500:#8b5cf6;       /* accent */
  --violet-600:#6d4ae0;       /* deep */
  --violet-700:#4c37b3;       /* darkest */

  /* Neutrals */
  --panel:#ffffff;
  --bg:#f6f7f9;
  --line:#e7e9ee;
  --ink-900:#1b1f23;
  --ink-700:#3f454f;
  --ink-500:#6d7682;

  --r-xl:18px; --r-lg:14px; --r-md:10px;
  --sh-1:0 12px 26px rgba(27,31,35,.06);
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family:"Poppins", system-ui, -apple-system, Segoe UI, Roboto;
  color:var(--ink-900);
  background:var(--bg);
}

/* ---------- Top bar ---------- */
.topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:16px clamp(16px,5vw,32px);
  background:var(--panel); border-bottom:1px solid var(--line);
}
.brand{ margin:0; font-size:clamp(20px,2.4vw,26px); }
.brand span{ color:var(--violet-600); }
.top-actions{ display:flex; gap:10px; }
button{ border:0; cursor:pointer; font:inherit; font-weight:700; border-radius:999px; padding:.7rem 1rem; }
button.ghost{ background:#fff; color:var(--ink-700); border:1px solid var(--line); }
button.accent{ color:#fff; background:linear-gradient(180deg,var(--violet-500),var(--violet-600)); box-shadow:0 8px 18px rgba(107,70,193,.25); }
button.ghost:hover{ filter:brightness(.98); }
button.accent:hover{ filter:brightness(1.02); }

/* ---------- Shell layout (flex only) ---------- */
.shell{
  display:flex; flex-direction:column;
  gap: clamp(12px,2vw,20px);
  padding: clamp(12px,3.5vw,24px);
}
.sel{ position:absolute; opacity:0; pointer-events:none; }

.content{ display:flex; gap: clamp(12px,2vw,20px); align-items:stretch; min-width:0; }

/* ---------- List column ---------- */
.list-col{
  flex:1 1 60%;
  background:var(--panel); border:1px solid var(--line); border-radius:var(--r-xl);
  box-shadow:var(--sh-1); padding:14px;
  display:flex; flex-direction:column; gap:10px; min-width:0;
}
.toolbar{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; justify-content:space-between; }
.search{ flex:1 1 320px; }
.search input{
  width:100%; padding:.85rem 1rem; border-radius:var(--r-lg);
  border:1px solid var(--line); background:#fafafa; font:inherit; color:var(--ink-700);
}

/* Segmented control (with mobile-tight variant later) */
.seg{
  position:relative; display:flex; gap:0; align-items:center;
  border:1px solid var(--line); border-radius:999px; padding:4px; background:#f5f6f8;
}
.seg input{ display:none; }
.seg label{
  padding:.5rem .75rem; border-radius:999px; cursor:pointer; z-index:1;
  color:var(--ink-700); font-weight:600; user-select:none; text-align:center;
}

/* Header + rows */
.head{ padding:8px 10px; border-radius:12px; background:#fafafa; color:var(--ink-700); font-weight:600; }
.row{ display:flex; gap:12px; align-items:center; }
.list-col .row{
  padding:12px 10px; border-bottom:1px solid var(--line); border-radius:12px; cursor:pointer;
}
.list-col .row:hover{ background:#fcfcfd; }
.list-col .row:last-child{ border-bottom:0; }

/* Faux columns (flex widths) */
.h,.c{ display:flex; align-items:center; min-width:0; }
.h-person,.c-person{ flex:1 1 320px; gap:10px; }
.h-items,.c-items{ flex:1 1 220px; }
.h-value,.c-value{ flex:0 0 110px; justify-content:flex-end; }
.h-last,.c-last{ flex:0 0 140px; }
.h-status,.c-status{ flex:0 0 130px; justify-content:flex-end; }

/* Avatars (centered) */
.avatar{
  width:36px; height:36px; border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  background:#f2f5ff; color:#3b4aa8; font-weight:700;
}
.avatar.lg{ width:42px; height:42px; }

/* Stacked name + email */
.stack{ display:flex; flex-direction:column; }
.muted{ color:var(--ink-500); }
.tiny{ font-size:.82rem; }

/* Chips for email status */
.chip{
  display:inline-flex; align-items:center; justify-content:center;
  padding:.25rem .6rem; border-radius:999px; font-weight:700; font-size:.85rem; white-space:nowrap;
  border:1px solid var(--line);
}
.chip.recovered{ background:#e8f7ee; color:#1b7a47; border-color:#caebd7; }
.chip.nurturing{ background:var(--violet-100); color:var(--violet-700); border-color:rgba(109,74,224,.35); }
.chip.nosend{ background:#fff1f1; color:#9a1e1e; border-color:#f3caca; }

/* ---------- Sidebar ---------- */
.sidebar{
  flex:0 0 360px; min-width:280px;
  background:var(--panel); border:1px solid var(--line); border-radius:var(--r-xl);
  box-shadow:var(--sh-1); padding:14px; display:flex; flex-direction:column; position:relative;
}
.panel{ display:none; flex-direction:column; gap:14px; }
.sb-head{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
.who{ display:flex; align-items:center; gap:10px; }

.sb-block{ display:flex; flex-direction:column; gap:10px; }
.sb-block h4{ margin:0; font-size:.98rem; }
.meta{ display:flex; gap:12px; flex-wrap:wrap; }
.meta > div{
  display:flex; flex-direction:column; background:#fafafa; border:1px solid var(--line);
  padding:10px 12px; border-radius:12px;
}
.lines{ list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:8px; }
.lines li{ display:flex; justify-content:space-between; gap:8px; padding:8px 10px; background:#fafafa; border:1px solid var(--line); border-radius:12px; }
.bullets{ margin:0; padding-left:18px; color:var(--ink-700); }
.sb-actions{ display:flex; gap:10px; flex-wrap:wrap; }

/* CSS-only routing of panels */
#c-2051:checked ~ .content .sidebar .p-2051{ display:flex; }
#c-2050:checked ~ .content .sidebar .p-2050{ display:flex; }
#c-2049:checked ~ .content .sidebar .p-2049{ display:flex; }
#c-2048:checked ~ .content .sidebar .p-2048{ display:flex; }

/* ---------- Tablet (≤1140px) ---------- */
@media screen and (max-width:1140px){
  .content{ flex-direction:column; }
  .sidebar{ flex:1 1 auto; min-width:0; }
}

/* ---------- Mobile (≤480px) ---------- */
@media screen and (max-width:480px){

  /* Shell + panels */
  .topbar{ padding:12px 14px; }
  .shell{ padding:12px; gap:12px; }
  .list-col, .sidebar{ padding:12px; border-radius:16px; }

  /* Top actions: smaller and allowed to wrap */
  .top-actions{
    gap:8px;
    flex-wrap:wrap;
    justify-content:flex-end;
  }
  .top-actions button{
    padding:.5rem .75rem;
    font-size:.95rem;
    line-height:1;
    border-radius:999px;
  }

  /* Tighter segmented pills (same pattern you liked before) */
  .seg{ padding:2px; }
  .seg label{ padding:.45rem .6rem; font-size:.9rem; }
  .seg-indicator{
    inset:2px;
    width:calc(25% - 0px);
    box-shadow: inset 0 0 0 2px rgba(109,74,224,.12);
  }

  /* Turn the table-ish list into cards */
  .head{ display:none; } /* hide header on phones */

  .list-col .row{
    padding:12px;
    border:1px solid var(--line);
    border-radius:12px;
    margin-bottom:8px;
    background:#fff;
    flex-wrap:wrap;             /* allow pieces to flow */
    align-items:flex-start;
    gap:8px 10px;
  }

  /* Column pieces re-ordered for a clean card look */
  .c-person{
    order:1;
    flex:1 1 auto;              /* takes left side */
    min-width:0;
    gap:10px;
  }
  .c-status{
    order:2;
    flex:0 0 auto;              /* chip on the right of the first line */
    margin-left:auto;
  }
  .c-value{
    order:3;
    flex:0 0 auto;              /* value right after the chip */
    font-weight:700;
  }
  .c-items{
    order:4;
    flex:1 1 100%;              /* second line: items summary */
    color:var(--ink-700);
  }
  .c-last{ display:none; }      /* trim secondary column */

  /* Typography adjustments so values don’t overpower the name */
  .stack b{ font-size:1rem; font-weight:700; }
  .c-value{ font-size:1rem; }

  /* Avatar stays centered but not oversized */
  .avatar{ width:34px; height:34px; font-size:.95rem; }

  /* Sidebar spacing */
  .sidebar .sb-actions{ gap:8px; }
  .sidebar .sb-block .meta{ gap:8px; }
  .sidebar .sb-block .meta > div{ padding:8px 10px; }
}

